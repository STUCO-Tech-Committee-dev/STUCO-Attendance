{"ast":null,"code":"var _jsxFileName = \"/Users/eshaantripathi/Documents/GitHub/STUCO-Attendance/src/AttendanceSession.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, doc, setDoc, updateDoc } from 'firebase/firestore';\nimport { getAnalytics } from 'firebase/analytics';\nimport { QRCodeCanvas as QRCode } from 'qrcode.react';\nimport './AdminInterface.css';\nimport { db } from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AttendanceSession = () => {\n  _s();\n  const navigate = useNavigate();\n  const [sessionId, setSessionId] = useState('');\n  const [open, setOpen] = useState(false);\n\n  // generate a random session ID\n  const generateSession = () => {\n    const id = Math.random().toString(36).substr(2, 8);\n    return id;\n  };\n  const startSession = async () => {\n    const id = generateSession();\n    setSessionId(id);\n    setOpen(true);\n    // create session doc in Firestore\n    await setDoc(doc(db, 'attendanceSessions', id), {\n      createdAt: Date.now(),\n      open: true\n    });\n  };\n  const endSession = async () => {\n    if (!sessionId) return;\n    await updateDoc(doc(db, 'attendanceSessions', sessionId), {\n      open: false\n    });\n    setOpen(false);\n  };\n  useEffect(() => {\n    startSession();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"admin-title\",\n      children: \"Today's Attendance Session\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), sessionId && open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"qr-container\",\n      children: [/*#__PURE__*/_jsxDEV(QRCode, {\n        value: sessionId,\n        size: 256\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"qr-value\",\n        children: [\"Session ID: \", sessionId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-btn\",\n        onClick: endSession,\n        children: \"\\uD83D\\uDED1 End Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), !open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      style: {\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-btn\",\n        onClick: startSession,\n        children: \"\\u25B6\\uFE0F Start New Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-btn\",\n        onClick: () => navigate(-1),\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceSession, \"t7yz+eU3VlO5YLyW5aMinWdzAVI=\", false, function () {\n  return [useNavigate];\n});\n_c = AttendanceSession;\nexport default AttendanceSession;\nvar _c;\n$RefreshReg$(_c, \"AttendanceSession\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","initializeApp","getFirestore","doc","setDoc","updateDoc","getAnalytics","QRCodeCanvas","QRCode","db","jsxDEV","_jsxDEV","AttendanceSession","_s","navigate","sessionId","setSessionId","open","setOpen","generateSession","id","Math","random","toString","substr","startSession","createdAt","Date","now","endSession","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","size","onClick","style","justifyContent","_c","$RefreshReg$"],"sources":["/Users/eshaantripathi/Documents/GitHub/STUCO-Attendance/src/AttendanceSession.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, doc, setDoc, updateDoc } from 'firebase/firestore';\nimport { getAnalytics } from 'firebase/analytics';\nimport { QRCodeCanvas as QRCode } from 'qrcode.react';\nimport './AdminInterface.css';\n\nimport { db } from './firebase';   \n\nconst AttendanceSession = () => {\n  const navigate = useNavigate();\n  const [sessionId, setSessionId] = useState('');\n  const [open, setOpen] = useState(false);\n\n  // generate a random session ID\n  const generateSession = () => {\n    const id = Math.random().toString(36).substr(2, 8);\n    return id;\n  };\n\n  const startSession = async () => {\n    const id = generateSession();\n    setSessionId(id);\n    setOpen(true);\n    // create session doc in Firestore\n    await setDoc(doc(db, 'attendanceSessions', id), {\n      createdAt: Date.now(),\n      open: true\n    });\n  };\n\n  const endSession = async () => {\n    if (!sessionId) return;\n    await updateDoc(doc(db, 'attendanceSessions', sessionId), { open: false });\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    startSession();\n  }, []);\n\n  return (\n    <div className=\"admin-container\">\n      <h2 className=\"admin-title\">Today's Attendance Session</h2>\n\n      {sessionId && open && (\n        <div className=\"qr-container\">\n          <QRCode value={sessionId} size={256} />\n          <div className=\"qr-value\">Session ID: {sessionId}</div>\n          <button className=\"admin-btn\" onClick={endSession}>\n            üõë End Session\n          </button>\n        </div>\n      )}\n\n      {!open && (\n        <div className=\"input-group\" style={{ justifyContent: 'center' }}>\n          <button className=\"admin-btn\" onClick={startSession}>\n            ‚ñ∂Ô∏è Start New Session\n          </button>\n          <button className=\"admin-btn\" onClick={() => navigate(-1)}>\n            ‚Üê Back\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AttendanceSession;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}