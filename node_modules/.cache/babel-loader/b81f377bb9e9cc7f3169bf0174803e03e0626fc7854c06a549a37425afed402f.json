{"ast":null,"code":"var _jsxFileName = \"/Users/eshaantripathi/Documents/GitHub/STUCO-Attendance/src/AttendanceSession.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, doc, setDoc, updateDoc } from 'firebase/firestore';\nimport { getAnalytics } from 'firebase/analytics';\nimport { QRCodeCanvas as QRCode } from 'qrcode.react';\nimport './AdminInterface.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCEGCSkc0mSAvn4mB5mQXTTDZ3GcEScHWg\",\n  authDomain: \"attendance-f524b.firebaseapp.com\",\n  projectId: \"attendance-f524b\",\n  storageBucket: \"attendance-f524b.firebasestorage.app\",\n  messagingSenderId: \"295378375527\",\n  appId: \"1:295378375527:web:ac2b55cb9a917ba87c55c2\",\n  measurementId: \"G-124MCMCKTR\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\ngetAnalytics(app);\nconst db = getFirestore(app);\nconst AttendanceSession = () => {\n  _s();\n  const navigate = useNavigate();\n  const [sessionId, setSessionId] = useState('');\n  const [open, setOpen] = useState(false);\n\n  // generate a random session ID\n  const generateSession = () => {\n    const id = Math.random().toString(36).substr(2, 8);\n    return id;\n  };\n  const startSession = async () => {\n    const id = generateSession();\n    setSessionId(id);\n    setOpen(true);\n    // create session doc in Firestore\n    await setDoc(doc(db, 'attendanceSessions', id), {\n      createdAt: Date.now(),\n      open: true\n    });\n  };\n  const endSession = async () => {\n    if (!sessionId) return;\n    await updateDoc(doc(db, 'attendanceSessions', sessionId), {\n      open: false\n    });\n    setOpen(false);\n  };\n  useEffect(() => {\n    startSession();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"admin-title\",\n      children: \"Today's Attendance Session\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), sessionId && open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"qr-container\",\n      children: [/*#__PURE__*/_jsxDEV(QRCode, {\n        value: sessionId,\n        size: 256\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"qr-value\",\n        children: [\"Session ID: \", sessionId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-btn\",\n        onClick: endSession,\n        children: \"\\uD83D\\uDED1 End Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), !open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      style: {\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-btn\",\n        onClick: startSession,\n        children: \"\\u25B6\\uFE0F Start New Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"admin-btn\",\n        onClick: () => navigate(-1),\n        children: \"\\u2190 Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceSession, \"t7yz+eU3VlO5YLyW5aMinWdzAVI=\", false, function () {\n  return [useNavigate];\n});\n_c = AttendanceSession;\nexport default AttendanceSession;\nvar _c;\n$RefreshReg$(_c, \"AttendanceSession\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","initializeApp","getFirestore","doc","setDoc","updateDoc","getAnalytics","QRCodeCanvas","QRCode","jsxDEV","_jsxDEV","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","db","AttendanceSession","_s","navigate","sessionId","setSessionId","open","setOpen","generateSession","id","Math","random","toString","substr","startSession","createdAt","Date","now","endSession","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","size","onClick","style","justifyContent","_c","$RefreshReg$"],"sources":["/Users/eshaantripathi/Documents/GitHub/STUCO-Attendance/src/AttendanceSession.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, doc, setDoc, updateDoc } from 'firebase/firestore';\nimport { getAnalytics } from 'firebase/analytics';\nimport { QRCodeCanvas as QRCode } from 'qrcode.react';\nimport './AdminInterface.css';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCEGCSkc0mSAvn4mB5mQXTTDZ3GcEScHWg\",\n  authDomain: \"attendance-f524b.firebaseapp.com\",\n  projectId: \"attendance-f524b\",\n  storageBucket: \"attendance-f524b.firebasestorage.app\",\n  messagingSenderId: \"295378375527\",\n  appId: \"1:295378375527:web:ac2b55cb9a917ba87c55c2\",\n  measurementId: \"G-124MCMCKTR\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\ngetAnalytics(app);\nconst db = getFirestore(app);\n\nconst AttendanceSession = () => {\n  const navigate = useNavigate();\n  const [sessionId, setSessionId] = useState('');\n  const [open, setOpen] = useState(false);\n\n  // generate a random session ID\n  const generateSession = () => {\n    const id = Math.random().toString(36).substr(2, 8);\n    return id;\n  };\n\n  const startSession = async () => {\n    const id = generateSession();\n    setSessionId(id);\n    setOpen(true);\n    // create session doc in Firestore\n    await setDoc(doc(db, 'attendanceSessions', id), {\n      createdAt: Date.now(),\n      open: true\n    });\n  };\n\n  const endSession = async () => {\n    if (!sessionId) return;\n    await updateDoc(doc(db, 'attendanceSessions', sessionId), { open: false });\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    startSession();\n  }, []);\n\n  return (\n    <div className=\"admin-container\">\n      <h2 className=\"admin-title\">Today's Attendance Session</h2>\n\n      {sessionId && open && (\n        <div className=\"qr-container\">\n          <QRCode value={sessionId} size={256} />\n          <div className=\"qr-value\">Session ID: {sessionId}</div>\n          <button className=\"admin-btn\" onClick={endSession}>\n            üõë End Session\n          </button>\n        </div>\n      )}\n\n      {!open && (\n        <div className=\"input-group\" style={{ justifyContent: 'center' }}>\n          <button className=\"admin-btn\" onClick={startSession}>\n            ‚ñ∂Ô∏è Start New Session\n          </button>\n          <button className=\"admin-btn\" onClick={() => navigate(-1)}>\n            ‚Üê Back\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AttendanceSession;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}